buildscript {
    repositories.gradlePluginPortal()
    dependencies.classpath "io.codearte.gradle.nexus:gradle-nexus-staging-plugin:0.20.0"
}

apply plugin: 'java-library'
apply plugin: 'groovy'

group 'de.kaleidox'
version '2.0.0-SNAPSHOT'

apply from: 'gradle/vars.gradle'

sourceCompatibility = 11
targetCompatibility = 11

task wrapper(type: Wrapper) {
  gradleVersion = '4.10.2'
  distributionUrl = "https://services.gradle.org/distributions/gradle-$gradleVersion-all.zip"
}

compileJava.options.encoding = 'UTF-8'
repositories.jcenter()

subprojects {
    apply plugin: 'java-library'
    apply plugin: 'groovy'

    sourceCompatibility = 11
    targetCompatibility = 11

    compileJava.options.encoding = 'UTF-8'
    repositories.jcenter()
    
    dependencies {
        implementation "de.kaleidox:kalutils:${dependency.kalUtils}"
        implementation "org.apache.logging.log4j:log4j-api:${dependency.log4j}"
        implementation "org.apache.logging.log4j:log4j-core:${dependency.log4j}"

        compileOnly "org.jetbrains:annotations:${dependency.jetbrains_annotations}"

        testImplementation "junit:junit:${dependency.jUnit}"
        testCompile "org.codehaus.groovy:groovy-all:${dependency.groovy}"
    }

    sourceSets {
        main.java.srcDirs = ["src\\main\\java"]
        test.groovy.srcDirs = ["src\\test\\groovy"]
    }
}

project(":API") {
}

project(":Core") {
    dependencies {
        implementation project(":API")
        
        implementation "com.fasterxml.jackson.core:jackson-databind:${dependency.jackson}"
    }
}

project(":Utilities") {
    dependencies {
        implementation project(":API")

        implementation "org.reflections:reflections:${dependency.reflections}"
    }
}

// TODO apply from: 'gradle/publishing.gradle'
